<Manager>:
    id: manager
    name: 'manager'

# Custom button
<CustomButton@MDButton>:
    pos_hint: {"center_x": .5}
    size_hint: None, None
    width: root.width*0.4
        
<Title>:
    cols: 3
    title_text: ""
    size_hint_y: 0.1
    size_hint_x: 1
    MDIconButton:
        icon: "home"
        on_release: app.manager.current = 'home'
        size_x: 0.1
    MDLabel:
        text: root.title_text
        size_hint_x: 0.8
        size_x: 0.9
        center_x: 0.5
        halign: 'center'
    MDIconButton:
        icon: "cog"
        size_x: 0.1
        on_release: app.open_settings()

<URLScroll>:
    id: urlscroll
    orientation: 'vertical'
    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: 0.1
        spacing: 5
        padding: 5
        MDButton:
            style: "elevated"
            size_hint_y: None
            height: 50
            on_release: root.add_entry()
            width: root.width*0.48
            MDButtonText:
                text: "Add New Entry"
        MDButton:
            style: "elevated"
            size_hint_y: None
            height: 50
            on_release: root.parent.parent.download()
            width: root.width*0.48
            MDButtonText:
                text: 'Download'
    ScrollView:
        size_hint: 1, 1
        id: scroll
        boxes: buttonview
        BoxLayout:
            id: buttonview
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            # Button to add new entry

<TestScreen>:
    BoxLayout:
        orientation: "horizontal"
        Title:
            text: "Test"

<MissingVideoScreen>:
    id: missing
    name: 'missing'
    BoxLayout:
        orientation: 'vertical'
        id: body
        Title:
            title_text: 'Missing Videos'
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.2
            size_hint_x: 1
            MDButton:
                style: "elevated"
                on_release: root.generateData()
                size_hint_x: 0.5
                MDButtonText:
                    text: "generate"
            MDButton:
                style: "elevated"
                size_hint_x: 0.5
                on_release: root.clearData()
                MDButtonText:
                    text: "clear"

<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'
        pos_hint_x: {"center_x": .5}
        pos_hint_y: {"center_y": .5}
        Title:
            size_hint_y: 0.1
            title_text: 'Home'

        GridLayout:
            id: grid
            cols: 2
            size_hint_y: 

            height: self.minimum_height
            row_default_height: 40
            row_force_default: True
            padding: 10
            spacing: 10
            pos_hint_x: {"center_x": .5}
            MDButton:
                style: "elevated"
                on_release: root.manager.current = 'download'
                #on_release: print(self.text)
                pos_hint: {"center_x": .5}
                #size_hint: None, None
                width: root.width*0.48
                MDButtonText:
                    text: "Download Video(s)"

            MDButton:
                style: "elevated" 
                
                on_release: root.manager.current = 'adddatabase'
                hint_size_x: 0.5
                pos_hint: {"center_x": .5}
                size_hint: None, None
                width: root.width*0.48
                MDButtonText:
                    text: "Add to database"
            MDButton:
                style: "elevated"
                
                on_release: root.manager.current = 'output'
                hint_size_x: 0.5
                pos_hint: {"center_x": .5}
                size_hint: None, None
                width: root.width*0.48
                MDButtonText:
                    text: "Output database"
            MDButton:
                style: "elevated"
                
                on_release: root.manager.current = 'missing'
                hint_size_x: 0.5
                pos_hint: {"center_x": .5}
                size_hint: None, None
                width: root.width*0.48
                MDButtonText:
                    text: 'Show Missing Videos'
            MDButton:
                style: "elevated"
                
                on_release: app.stop()
                hint_size_x: 0.5
                pos_hint: {"center_x": .5}
                size_hint: None, None
                width: root.width*0.48
                MDButtonText:
                    text: "Exit"

        BoxLayout:
            id: data





<DatabaseOutputScreen>:
    id: output
    name: 'output'
    BoxLayout:
        orientation: 'vertical'
        id: body
        Title:
            title_text: 'Database Output'
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.2
            size_hint_x: 1
            MDButton:
                style: "elevated"
                
                on_release: root.generateData()
                size_hint_x: 0.5
                padding: 5
                MDButtonText:
                    text: "generate"
            MDButton:
                style: "elevated"
                
                size_hint_x: 0.5
                on_release: root.clearData()
                padding: 5
                MDButtonText:
                    text: "clear"

<AddDatabase>:
    id: download
    name: 'download'
    BoxLayout:
        orientation: 'vertical'
        Title:
            size_hint_y: 0.1
            title_text: 'Download Video(s)'
        URLScroll:
            id: scroll



<DownloadScreen>:
    id: download
    name: 'download'
    BoxLayout:
        orientation: 'vertical'
        Title:
            size_hint_y: 0.1
            title_text: 'Download Video(s)'
        URLScroll:
            id: scroll
        